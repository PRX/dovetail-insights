/*
 * This is a manifest file that'll be compiled into application.css.
 *
 * With Propshaft, assets are served efficiently without preprocessing steps. You can still include
 * application-wide styles in this file, but keep in mind that CSS precedence will follow the standard
 * cascading order, meaning styles declared later in the document or manifest will override earlier ones,
 * depending on specificity.
 *
 * Consider organizing styles into separate files for maintainability.
 */

body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
}

.field_with_errors {
  background: lightcoral;

  input {
    border: 1px solid red;
  }
}

form {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  display: grid;
  grid-template-columns: 360px 1fr;
  grid-template-rows: 1fr;
  gap: 0px 0px;
  grid-template-areas:
    "global-data-parameters lens"
}

form.nochrome {
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
  gap: 0px 0px;
  grid-template-areas:
    "lens"
}

#global-data-parameters {
  grid-area: global-data-parameters;
  background-color: #f3f3f3;
  padding: 8px;
}

.nochrome #global-data-parameters,
.nochrome #lens-data-parameters,
.nochrome #export-btn {
  display: none;
}

#range label {
  padding: 3px 0;
}

#filters ul {
  margin: 0;
  padding: 0;
  list-style: none;

  .active { background-color: aquamarine; }

  li {
    margin: 0 0 9px 0;
    padding: 0;

    select.operator {
      margin-right: 5px;
    }

    select[multiple] {
      max-width: 240px;
    }

    fieldset {
      padding: 2px 5px 4px;

      &.active {
        background-color: lightgreen;
      }

      &[data-dimension-type="Timestamp"] {
        .range, .extract, .truncate { display: none; }

        &:has(option[value=Range]:checked) .range { display: block; }
        &:has(option[value=Extract]:checked) .extract { display: block; }
        &:has(option[value=Truncate]:checked) .truncate { display: block; }
      }
    }
  }
}

#metrics { display: none; }

#lens-data-parameters:has(input[type=radio][value=timeSeries]:checked) #metrics,
#lens-data-parameters:has(input[type=radio][value=dimensional]:checked) #metrics {
  display: block;
}

#time-series-granularity { display: none; }
body:has(input[name=analysis-type][value=time-series]:checked) #time-series-granularity { display: block; }
#time-series-granularity span { display: none; }
body:has(#time-series-granularity option:last-child:checked) #time-series-granularity span {
  display: inline;
}

#lens {
  grid-area: lens;
}

#lens-data-parameters {
  background-color: #f3f3f3;
  padding: 8px;
}

#granularity { display: none; }
#lens-data-parameters:has(input[type=radio][value=timeSeries]:checked) #granularity {
  display: block;
}

#window { display: none; }
#granularity:has(option:last-child:checked) #window { display: block }

#groups { display: none; }
#lens-data-parameters:has(input[type=radio][value=timeSeries]:checked) #groups,
#lens-data-parameters:has(input[type=radio][value=dimensional]:checked) #groups {
  display: block;
}

#groups fieldset .timestamp-options { display: none; }
#groups fieldset:has(select[id^="group."] option[data-dimension-type="Timestamp"]:checked) .timestamp-options { display: block; }
#groups fieldset .timestamp-options .timestamp-ranges,
#groups fieldset .timestamp-options .truncate-options,
#groups fieldset .timestamp-options .extract-options { display: none; }
#groups fieldset:has(select.mode-chooser option[value=range]:checked) .timestamp-ranges { display: block; }
#groups fieldset:has(select.mode-chooser option[value=extract]:checked) .extract-options { display: block; }
#groups fieldset:has(select.mode-chooser option[value=truncate]:checked) .truncate-options { display: block; }

#groups fieldset .duration-options { display: none; }
#groups fieldset:has(select[id^="group."] option[data-dimension-type="Duration"]:checked) .duration-options { display: block; }

#time-series-compare { display: none; }
#lens-data-parameters:has(input[type=radio][value=timeSeries]:checked) #time-series-compare {
  display: block;
}

#time-series-compare select[name=compare] option[value=WoW],
#time-series-compare select[name=compare] option[value=QoQ],
#time-series-compare select[name=compare] option[value=YoY] {
  display: none;
}

form:has(#granularity select[name=granularity] option[value=daily]:checked) {
  #time-series-compare select[name=compare] option[value=WoW],
  #time-series-compare select[name=compare] option[value=QoQ],
  #time-series-compare select[name=compare] option[value=YoY] {
    display: initial;
  }
}
form:has(#granularity select[name=granularity] option[value=monthly]:checked) {
  #time-series-compare select[name=compare] option[value=QoQ],
  #time-series-compare select[name=compare] option[value=YoY] {
    display: initial;
  }
}
form:has(#granularity select[name=granularity] option[value=quarterly]:checked) {
  #time-series-compare select[name=compare] option[value=YoY] {
    display: initial;
  }
}

#export-btn {
  position: absolute;
  top: 0;
  right: 0;
  display: block;
  border: 4px solid red;
  background: rebeccapurple;
  color: white;
  padding: 10px;
}

table {
  width: 100%;
  border-collapse: collapse;

  .totals { background-color: palegreen; }

  th {
    text-align: left;
  }

  td {
    border: 1px solid #bbb;
    padding: 3px;
  }

  col.data:nth-child(even) {
    background: gainsboro
  }

  tr:hover {
    border: red 10px solid;
  }
}

table:has(td:nth-child(1):hover) tr td:nth-child(1),
table:has(td:nth-child(2):hover) tr td:nth-child(2),
table:has(td:nth-child(3):hover) tr td:nth-child(3),
table:has(td:nth-child(4):hover) tr td:nth-child(4),
table:has(td:nth-child(5):hover) tr td:nth-child(5),
table:has(td:nth-child(6):hover) tr td:nth-child(6),
table:has(td:nth-child(7):hover) tr td:nth-child(7),
table:has(td:nth-child(8):hover) tr td:nth-child(8),
table:has(td:nth-child(9):hover) tr td:nth-child(9),
table:has(td:nth-child(10):hover) tr td:nth-child(10),
table:has(td:nth-child(11):hover) tr td:nth-child(11),
table:has(td:nth-child(12):hover) tr td:nth-child(12),
table:has(td:nth-child(13):hover) tr td:nth-child(13),
table:has(td:nth-child(14):hover) tr td:nth-child(14),
table:has(td:nth-child(15):hover) tr td:nth-child(15),
table:has(td:nth-child(16):hover) tr td:nth-child(16),
table:has(td:nth-child(17):hover) tr td:nth-child(17)
{
  border-left: red 10px solid;
  border-right: red 10px solid;
}
