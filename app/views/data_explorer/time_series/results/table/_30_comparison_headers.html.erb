<tr>
  <%= tag.td if @tbl_show_group_1_headers %>
  <%= tag.td if @tbl_show_group_2_headers %>

  <% @composition.results.granularity_unique_member_descriptors.each do |member_descriptor| %>
    <% @composition.metrics.each do |metric| %>
      <% @composition.comparisons.each do |comparison| %>
        <% comparison.lookback.times do |i| %>
          <%# if +comparison.lookback+ is 3, +lookback+ should be -3, -2, %>
          <%# and -1 for the loops. So when i=0, lookback=-3, and i=1 l=-2 %>
          <% rewind = -(comparison.lookback - i) %>

          <th><%= granularity_label(@composition, comparison_label(comparison, member_descriptor, rewind)) %></th>
        <% end %>
      <% end %>

      <th><%= granularity_label(@composition, member_descriptor) %></th>
    <% end %>
  <% end %>
</tr>
